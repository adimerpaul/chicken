import{j as me,ax as ce,A as ge,g as fe,E as pe,k as g,r as be,s as ve,ay as z,az as ye,l as I,aj as _,aA as he,f as b,_ as _e,c as Q,o as j,w as o,a as l,b as n,Q as h,e as p,t as m,J as H,a7 as K,d as Y,a5 as f,h as D,a6 as Ce}from"./index-DaLIc8C6.js";import{Q as P}from"./QSelect-CcbuAIQ-.js";import{b as Ve,Q as W}from"./format-CZjEqrqN.js";import{Q as x}from"./QTd-BtFSzMAx.js";import{c as xe,Q as X,b as N}from"./QList-D9l36FlJ.js";import{Q as Se}from"./QBtnDropdown-BX8ZNK4a.js";import{Q as Z}from"./QTable-BAgSEv8T.js";import{Q as R}from"./QSpace-B6MhSPU3.js";import{Q as we}from"./QPage-BA_RSihm.js";import{C as $}from"./ClosePopup-Bb7KKCjF.js";function T(t,e){return[!0,!1].includes(t)?t:e}const qe=me({name:"QPagination",props:{...ge,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:t=>(typeof t=="string"?parseInt(t,10):t)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:t=>t===""||ce.includes(t)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(t,{emit:e}){const{proxy:d}=fe(),{$q:c}=d,s=pe(t,c),i=g(()=>parseInt(t.min,10)),a=g(()=>parseInt(t.max,10)),k=g(()=>parseInt(t.maxPages,10)),F=g(()=>V.value+" / "+a.value),ee=g(()=>T(t.boundaryLinks,t.input)),S=g(()=>T(t.boundaryNumbers,!t.input)),te=g(()=>T(t.directionLinks,t.input)),B=g(()=>T(t.ellipses,!t.input)),A=be(null),V=g({get:()=>t.modelValue,set:r=>{if(r=parseInt(r,10),t.disable||isNaN(r))return;const u=Ve(r,i.value,a.value);t.modelValue!==u&&e("update:modelValue",u)}});ve(()=>`${i.value}|${a.value}`,()=>{V.value=t.modelValue});const ae=g(()=>"q-pagination row no-wrap items-center"+(t.disable===!0?" disabled":"")),G=g(()=>t.gutter in z?`${z[t.gutter]}px`:t.gutter||null),le=g(()=>G.value!==null?`--q-pagination-gutter-parent:-${G.value};--q-pagination-gutter-child:${G.value}`:null),O=g(()=>{const r=[t.iconFirst||c.iconSet.pagination.first,t.iconPrev||c.iconSet.pagination.prev,t.iconNext||c.iconSet.pagination.next,t.iconLast||c.iconSet.pagination.last];return c.lang.rtl===!0?r.reverse():r}),se=g(()=>({"aria-disabled":t.disable===!0?"true":"false",role:"navigation"})),L=g(()=>ye(t,"flat")),oe=g(()=>({[L.value]:!0,round:t.round,rounded:t.rounded,padding:t.padding,color:t.color,textColor:t.textColor,size:t.size,ripple:t.ripple!==null?t.ripple:!0})),ne=g(()=>{const r={[L.value]:!1};return t.activeDesign!==""&&(r[t.activeDesign]=!0),r}),ie=g(()=>({...ne.value,color:t.activeColor||t.color,textColor:t.activeTextColor||t.textColor})),w=g(()=>{let r=Math.max(k.value,1+(B.value?2:0)+(S.value?2:0));const u={pgFrom:i.value,pgTo:a.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(a.value).length)}em`}};return k.value&&r<a.value-i.value+1&&(r=1+Math.floor(r/2)*2,u.pgFrom=Math.max(i.value,Math.min(a.value-r+1,t.modelValue-Math.floor(r/2))),u.pgTo=Math.min(a.value,u.pgFrom+r-1),S.value&&(u.boundaryStart=!0,u.pgFrom++),B.value&&u.pgFrom>i.value+(S.value?1:0)&&(u.ellipsesStart=!0,u.pgFrom++),S.value&&(u.boundaryEnd=!0,u.pgTo--),B.value&&u.pgTo<a.value-(S.value?1:0)&&(u.ellipsesEnd=!0,u.pgTo--)),u});function M(r){V.value=r}function re(r){V.value=V.value+r}function U(){V.value=A.value,A.value=null,c.platform.is.mobile===!0&&document.activeElement.blur()}function ue(r){A.value=r}function de(r){he(r,13)===!0&&U()}function y(r,u,q){const C={"aria-label":u,"aria-current":"false",...oe.value,...r};return q===!0&&Object.assign(C,{"aria-current":"true",...ie.value}),u!==void 0&&(t.toFn!==void 0?C.to=t.toFn(u):C.onClick=()=>{M(u)}),I(b,C)}return Object.assign(d,{set:M,setByOffset:re}),()=>{const r=[],u=[];let q;if(ee.value===!0&&(r.push(y({key:"bls",disable:t.disable||t.modelValue<=i.value,icon:O.value[0],"aria-label":c.lang.pagination.first},i.value)),u.unshift(y({key:"ble",disable:t.disable||t.modelValue>=a.value,icon:O.value[3],"aria-label":c.lang.pagination.last},a.value))),te.value===!0&&(r.push(y({key:"bdp",disable:t.disable||t.modelValue<=i.value,icon:O.value[1],"aria-label":c.lang.pagination.prev},t.modelValue-1)),u.unshift(y({key:"bdn",disable:t.disable||t.modelValue>=a.value,icon:O.value[2],"aria-label":c.lang.pagination.next},t.modelValue+1))),t.input!==!0){q=[];const{pgFrom:C,pgTo:J,marginalStyle:E}=w.value;if(w.value.boundaryStart===!0){const v=i.value===t.modelValue;r.push(y({key:"bns",style:E,disable:t.disable,label:i.value},i.value,v))}if(w.value.boundaryEnd===!0){const v=a.value===t.modelValue;u.unshift(y({key:"bne",style:E,disable:t.disable,label:a.value},a.value,v))}w.value.ellipsesStart===!0&&r.push(y({key:"bes",style:E,disable:t.disable,label:"…",ripple:!1},C-1)),w.value.ellipsesEnd===!0&&u.unshift(y({key:"bee",style:E,disable:t.disable,label:"…",ripple:!1},J+1));for(let v=C;v<=J;v++)q.push(y({key:`bpg${v}`,style:E,disable:t.disable,label:v},v,v===t.modelValue))}return I("div",{class:ae.value,...se.value},[I("div",{class:"q-pagination__content row no-wrap items-center",style:le.value},[...r,t.input===!0?I(_,{class:"inline",style:{width:`${F.value.length/1.5}em`},type:"number",dense:!0,value:A.value,disable:t.disable,dark:s.value,borderless:!0,inputClass:t.inputClass,inputStyle:t.inputStyle,placeholder:F.value,min:i.value,max:a.value,"onUpdate:modelValue":ue,onKeyup:de,onBlur:U}):I("div",{class:"q-pagination__middle row justify-center"},q),...u])])}}}),Ee={name:"VentasListado",data(){const t=new Date().toISOString().slice(0,10);return{dialogCaja:!1,caja:{name:"Inicio de Caja",total:0},loading:!1,rows:[],venta:{},dialogGasto:!1,meta:{current_page:1,last_page:1,total:0,from:0,to:0,per_page:20},pagination:{page:1,rowsPerPage:20,sortBy:"date",descending:!0},filters:{date_from:t,date_to:t,type:"",status:"",mesa:"",pago:"",q:""},summary:{total:0,count:0,by_type:[]},dlg:!1,current:null,columns:[{name:"numero",label:"#",field:"numero",align:"left",sortable:!0},{name:"actions",label:"Opciones",field:"id",align:"right"},{name:"date",label:"Fecha",field:"date",align:"left",sortable:!0},{name:"time",label:"Hora",field:e=>String(e.time).substring(0,8),align:"left"},{name:"name",label:"Cliente",field:"name",align:"left"},{name:"mesa",label:"Mesa",field:"mesa",align:"left"},{name:"pago",label:"Pago",field:"pago",align:"left"},{name:"type",label:"Tipo",field:"type",align:"left"},{name:"status",label:"Estado",field:"status",align:"left"},{name:"total",label:"Total (Bs)",field:"total",align:"right",sortable:!0}],detailCols:[{name:"name",label:"Producto",field:"name",align:"left"},{name:"qty",label:"Cant.",field:"qty",align:"right"},{name:"price",label:"Precio",field:"price",align:"right"},{name:"subtotal",label:"Subtotal",field:"subtotal",align:"right"}]}},mounted(){this.fetchSales()},computed:{sumIngreso(){let t=0;return(this.rows||[]).forEach(e=>{e.type==="INGRESO"&&e.status==="ACTIVO"&&(t+=Number(e.total||0))}),t+=(this.rows||[]).reduce((e,d)=>d.type==="CAJA"&&d.status==="ACTIVO"?e+Number(d.total||0):e,0),t+=(this.rows||[]).reduce((e,d)=>d.type==="EGRESO"&&d.status==="ACTIVO"?e-Number(d.total||0):e,0),this.money(t)},ingresoTotal(){let t=0;return(this.summary.by_type||[]).forEach(e=>{e.type==="INGRESO"&&e.status==="ACTIVO"&&(t+=Number(e.total||0))}),this.money(t)},countIngreso(){let t=0;return(this.rows||[]).forEach(e=>{e.type==="INGRESO"&&e.status==="ACTIVO"&&(t+=1)}),t},egresoCaja(){let t=0;return(this.summary.by_type||[]).forEach(e=>{e.type==="EGRESO"&&e.status==="ACTIVO"&&(t+=Number(e.total||0))}),this.money(t)}},methods:{agregarInicioCaja(){this.caja={name:"Inicio de Caja",total:0},this.dialogCaja=!0},guardarInicioCaja(){if(!this.caja.total){this.$q.notify?.({type:"negative",message:"Ingrese el monto inicial"});return}this.loading=!0,this.$axios.post("sales",{name:this.caja.name||"Inicio de Caja",total:this.caja.total,type:"CAJA",status:"ACTIVO",mesa:"CAJA",pago:"EFECTIVO",comment:"Inicio de caja",detalles:[],products:[]}).then(()=>{this.$q.notify?.({type:"positive",message:"Inicio de caja registrado"}),this.dialogCaja=!1,this.caja={name:"Inicio de Caja",total:0},this.fetchSales()}).catch(()=>{this.$q.notify?.({type:"negative",message:"Error al guardar inicio de caja"})}).finally(()=>{this.loading=!1})},anularVenta(t){this.$q.dialog({title:"Confirmar Anulación",message:`¿Está seguro de anular la venta #${t.numero}? Esta acción no se puede deshacer.`,cancel:!0,persistent:!0}).onOk(()=>{this.loading=!0,this.$axios.post(`sales/${t.id}/anular`).then(()=>{this.$q.notify?.({type:"positive",message:"Venta anulada"}),this.fetchSales()}).catch(()=>{this.$q.notify?.({type:"negative",message:"Error al anular venta"})}).finally(()=>{this.loading=!1})})},money(t){return Number(t||0).toLocaleString("es-BO",{minimumFractionDigits:2,maximumFractionDigits:2})},typeColor(t){return t==="INGRESO"?"green":t==="EGRESO"?"orange":t==="CAJA"?"blue":"grey"},byType(t){const e=(this.summary.by_type||[]).find(d=>d.type===t);return e?Number(e.total||0):0},resetFilters(){Object.assign(this.filters,{date_from:"",date_to:"",type:"",status:"",mesa:"",pago:"",q:""}),this.pagination.page=1,this.fetchSales()},pageChange(){this.pagination.page=this.meta.current_page,this.fetchSales()},onRequest(){},agregarGasto(){this.dialogGasto=!0},guardarGasto(){if(!this.venta.name||!this.venta.total){this.$q.notify?.({type:"negative",message:"Complete todos los campos"});return}this.loading=!0,this.$axios.post("sales",{name:this.venta.name,total:this.venta.total,type:"EGRESO",status:"ACTIVO",mesa:"GASTO",pago:"EFECTIVO",detalles:[],products:[]}).then(()=>{this.$q.notify?.({type:"positive",message:"Gasto agregado"}),this.dialogGasto=!1,this.venta={},this.fetchSales()}).catch(()=>{this.$q.notify?.({type:"negative",message:"Error al guardar gasto"})}).finally(()=>{this.loading=!1})},async fetchSales(){this.loading=!0;try{const t={page:this.pagination.page,per_page:this.pagination.rowsPerPage,...this.filters},{data:e}=await this.$axios.get("sales",{params:t});Array.isArray(e?.data)&&e?.meta?(this.rows=e.data,this.meta={current_page:e.meta.current_page,last_page:e.meta.last_page,total:e.meta.total,from:e.meta.from,to:e.meta.to,per_page:e.meta.per_page},this.summary=e.summary||this.summary):(this.rows=e.data||[],this.meta={current_page:e.current_page||1,last_page:e.last_page||1,total:e.total||0,from:e.from||0,to:e.to||0,per_page:e.per_page||this.pagination.rowsPerPage},this.summary={total:this.rows.reduce((d,c)=>d+Number(c.total||0),0),count:this.rows.length,by_type:[{type:"INGRESO",total:this.rows.filter(d=>d.type==="INGRESO").reduce((d,c)=>d+Number(c.total||0),0)},{type:"EGRESO",total:this.rows.filter(d=>d.type==="EGRESO").reduce((d,c)=>d+Number(c.total||0),0)},{type:"CAJA",total:this.rows.filter(d=>d.type==="CAJA").reduce((d,c)=>d+Number(c.total||0),0)}]})}catch{this.$q.notify?.({type:"negative",message:"No se pudo cargar ventas"})}finally{this.loading=!1}},openDetail(t){this.current=t,this.dlg=!0}},watch:{"filters.type":"fetchSales","filters.status":"fetchSales","filters.mesa":"fetchSales","filters.pago":"fetchSales","filters.q":function(){this.pagination.page=1,this.fetchSales()},"filters.date_from":"fetchSales","filters.date_to":"fetchSales","pagination.rowsPerPage":"fetchSales"}},Ie={class:"row items-end q-col-gutter-sm"},ke={class:"col-12 col-sm-2"},Ae={class:"col-12 col-sm-2"},Oe={class:"col-12 col-sm-2"},je={class:"col-12 col-sm-2"},Pe={class:"col-12 col-sm-2"},Ne={class:"col-12 col-sm-2"},Te={class:"col-12 col-sm-4"},Be={class:"col-12 col-sm-8 text-right"},Ge={class:"row q-col-gutter-sm q-mt-sm"},Qe={class:"col-12 col-sm-3"},De={class:"text-h6 text-bold"},Re={class:"col-12 col-sm-3"},Fe={class:"text-h6 text-bold"},Le={class:"col-12 col-sm-3"},Me={class:"text-h6 text-positive text-bold"},Ue={class:"col-12 col-sm-3"},Je={class:"text-h6 text-bold"},ze={class:"row items-center q-pa-sm"},He={class:"col"},Ke={class:"text-caption text-grey-7"},Ye={class:"col-auto"},We={class:"text-subtitle1"},Xe={class:"row q-col-gutter-sm q-mb-sm"},Ze={class:"col-6"},$e={class:"col-3"},et={class:"col-3"},tt={class:"col-6"},at={class:"col-6"},lt={key:0,class:"col-12"},st={class:"text-right q-mt-sm text-h6"},ot={class:"q-pa-sm"},nt={class:"q-pa-sm"};function it(t,e,d,c,s,i){return j(),Q(we,{class:"bg-grey-3 q-pa-sm"},{default:o(()=>[l(h,{flat:"",bordered:""},{default:o(()=>[l(p,{class:"q-pa-sm"},{default:o(()=>[n("div",Ie,[n("div",ke,[l(_,{modelValue:s.filters.date_from,"onUpdate:modelValue":e[0]||(e[0]=a=>s.filters.date_from=a),type:"date",dense:"",outlined:"",label:"Desde"},null,8,["modelValue"])]),n("div",Ae,[l(_,{modelValue:s.filters.date_to,"onUpdate:modelValue":e[1]||(e[1]=a=>s.filters.date_to=a),type:"date",dense:"",outlined:"",label:"Hasta"},null,8,["modelValue"])]),n("div",Oe,[l(P,{modelValue:s.filters.type,"onUpdate:modelValue":e[2]||(e[2]=a=>s.filters.type=a),dense:"",outlined:"",label:"Tipo",options:["","INGRESO","EGRESO","CAJA"],"emit-value":"","map-options":""},null,8,["modelValue"])]),n("div",je,[l(P,{modelValue:s.filters.status,"onUpdate:modelValue":e[3]||(e[3]=a=>s.filters.status=a),dense:"",outlined:"",label:"Estado",options:["","ACTIVO","ANULADO"],"emit-value":"","map-options":""},null,8,["modelValue"])]),n("div",Pe,[l(P,{modelValue:s.filters.mesa,"onUpdate:modelValue":e[4]||(e[4]=a=>s.filters.mesa=a),dense:"",outlined:"",label:"Mesa",options:["","MESA","LLEVAR","DELIVERY","PEDIDOS YA"],"emit-value":"","map-options":""},null,8,["modelValue"])]),n("div",Ne,[l(P,{modelValue:s.filters.pago,"onUpdate:modelValue":e[5]||(e[5]=a=>s.filters.pago=a),dense:"",outlined:"",label:"Pago",options:["","EFECTIVO","TARJETA","ONLINE","QR"],"emit-value":"","map-options":""},null,8,["modelValue"])]),n("div",Te,[l(_,{modelValue:s.filters.q,"onUpdate:modelValue":e[6]||(e[6]=a=>s.filters.q=a),dense:"",outlined:"",debounce:"400",label:"Buscar (cliente, nro, comentario)"},null,8,["modelValue"])]),n("div",Be,[l(b,{color:"green",icon:"add_shopping_cart",to:{path:"/ventas"},label:"Crear Venta","no-caps":"",class:"q-mr-sm"}),l(b,{color:"red",icon:"add_circle",onClick:i.agregarGasto,label:"Agregar Gasto","no-caps":"",class:"q-mr-sm"},null,8,["onClick"]),l(b,{color:"blue",icon:"account_balance_wallet",onClick:i.agregarInicioCaja,label:"Inicio de Caja","no-caps":"",class:"q-mr-sm"},null,8,["onClick"]),l(b,{flat:"",color:"primary",icon:"refresh",loading:s.loading,onClick:i.fetchSales,label:"Actualizar","no-caps":"",class:"q-mr-sm"},null,8,["loading","onClick"]),l(b,{outline:"",color:"primary",icon:"filter_alt_off",onClick:i.resetFilters,label:"Limpiar","no-caps":""},null,8,["onClick"])])])]),_:1})]),_:1}),n("div",Ge,[n("div",Qe,[l(h,{flat:"",bordered:""},{default:o(()=>[l(p,{class:"q-pa-sm"},{default:o(()=>[e[18]||(e[18]=n("div",{class:"text-caption text-grey"},"Total (filtrado)",-1)),n("div",De,m(i.sumIngreso)+" Bs",1)]),_:1})]),_:1})]),n("div",Re,[l(h,{flat:"",bordered:""},{default:o(()=>[l(p,{class:"q-pa-sm"},{default:o(()=>[e[19]||(e[19]=n("div",{class:"text-caption text-grey"},"# Ventas",-1)),n("div",Fe,m(i.countIngreso),1)]),_:1})]),_:1})]),n("div",Le,[l(h,{flat:"",bordered:""},{default:o(()=>[l(p,{class:"q-pa-sm"},{default:o(()=>[e[20]||(e[20]=n("div",{class:"text-caption text-grey"},"Ingreso",-1)),n("div",Me,m(i.ingresoTotal)+" Bs",1)]),_:1})]),_:1})]),n("div",Ue,[l(h,{flat:"",bordered:""},{default:o(()=>[l(p,{class:"q-pa-sm"},{default:o(()=>[e[21]||(e[21]=n("div",{class:"text-caption text-grey"},"Egreso/Caja",-1)),n("div",Je,m(i.egresoCaja)+" Bs ",1)]),_:1})]),_:1})])]),l(h,{flat:"",bordered:"",class:"q-mt-sm"},{default:o(()=>[l(Z,{rows:s.rows,columns:s.columns,"row-key":"id",flat:"",bordered:"",dense:"",loading:s.loading,"rows-per-page-options":[10,20,50,0],pagination:s.pagination,onRequest:i.onRequest},{"body-cell-status":o(a=>[l(x,{props:a},{default:o(()=>[l(W,{dense:"",color:a.row.status==="ACTIVO"?"green":"red","text-color":"white"},{default:o(()=>[f(m(a.row.status),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-type":o(a=>[l(x,{props:a},{default:o(()=>[l(W,{dense:"",color:i.typeColor(a.row.type),"text-color":"white"},{default:o(()=>[f(m(a.row.type),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-total":o(a=>[l(x,{props:a,class:"text-right"},{default:o(()=>[f(m(i.money(a.row.total)),1)]),_:2},1032,["props"])]),"body-cell-actions":o(a=>[l(x,{props:a,class:""},{default:o(()=>[l(Se,{dense:"",label:"Opciones","no-caps":"",size:"xs",color:"primary"},{default:o(()=>[l(xe,null,{default:o(()=>[H((j(),Q(X,{clickable:"",onClick:k=>i.openDetail(a.row)},{default:o(()=>[l(N,{avatar:""},{default:o(()=>[l(Y,{name:"visibility"})]),_:1}),l(N,null,{default:o(()=>[...e[22]||(e[22]=[f("Ver Detalle",-1)])]),_:1})]),_:1},8,["onClick"])),[[$]]),a.row.status==="ACTIVO"?H((j(),Q(X,{key:0,clickable:"",onClick:k=>i.anularVenta(a.row)},{default:o(()=>[l(N,{avatar:""},{default:o(()=>[l(Y,{name:"cancel"})]),_:1}),l(N,null,{default:o(()=>[...e[23]||(e[23]=[f("Anular Venta",-1)])]),_:1})]),_:1},8,["onClick"])),[[$]]):K("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),"no-data":o(()=>[...e[24]||(e[24]=[n("div",{class:"full-width row flex-center q-pa-lg text-grey"}," Sin resultados ",-1)])]),_:1},8,["rows","columns","loading","pagination","onRequest"]),n("div",ze,[n("div",He,[n("span",Ke," Mostrando "+m(s.meta.from||0)+"–"+m(s.meta.to||0)+" de "+m(s.meta.total||0),1)]),n("div",Ye,[l(qe,{modelValue:s.meta.current_page,"onUpdate:modelValue":[e[7]||(e[7]=a=>s.meta.current_page=a),i.pageChange],max:s.meta.last_page||1,"max-pages":"8","direction-links":"","boundary-links":""},null,8,["modelValue","max","onUpdate:modelValue"])])])]),_:1}),l(D,{modelValue:s.dlg,"onUpdate:modelValue":e[9]||(e[9]=a=>s.dlg=a),persistent:""},{default:o(()=>[l(h,{style:{width:"800px","max-width":"95vw"}},{default:o(()=>[l(p,{class:"row items-center q-pb-none"},{default:o(()=>[n("div",We," Venta #"+m(s.current?.numero)+" — "+m(s.current?.date)+" "+m(s.current?.time?.substring(0,8)),1),l(R),l(b,{flat:"",round:"",dense:"",icon:"close",onClick:e[8]||(e[8]=a=>s.dlg=!1)})]),_:1}),l(p,{class:"q-pt-none"},{default:o(()=>[n("div",Xe,[n("div",Ze,[e[25]||(e[25]=n("b",null,"Cliente:",-1)),f(" "+m(s.current?.name),1)]),n("div",$e,[e[26]||(e[26]=n("b",null,"Mesa:",-1)),f(" "+m(s.current?.mesa),1)]),n("div",et,[e[27]||(e[27]=n("b",null,"Pago:",-1)),f(" "+m(s.current?.pago),1)]),n("div",tt,[e[28]||(e[28]=n("b",null,"Tipo:",-1)),f(" "+m(s.current?.type),1)]),n("div",at,[e[29]||(e[29]=n("b",null,"Estado:",-1)),f(" "+m(s.current?.status),1)]),s.current?.comment?(j(),Ce("div",lt,[e[30]||(e[30]=n("b",null,"Comentario:",-1)),f(" "+m(s.current?.comment),1)])):K("",!0)]),l(Z,{rows:s.current?.detalles||[],columns:s.detailCols,flat:"",bordered:"",dense:"","row-key":"id"},{"body-cell-subtotal":o(a=>[l(x,{props:a,class:"text-right"},{default:o(()=>[f(m(i.money(a.row.subtotal)),1)]),_:2},1032,["props"])]),"body-cell-price":o(a=>[l(x,{props:a,class:"text-right"},{default:o(()=>[f(m(i.money(a.row.price)),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns"]),n("div",st," Total: "+m(i.money(s.current?.total||0))+" Bs ",1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(D,{modelValue:s.dialogGasto,"onUpdate:modelValue":e[13]||(e[13]=a=>s.dialogGasto=a),persistent:""},{default:o(()=>[l(h,{style:{width:"400px","max-width":"95vw"}},{default:o(()=>[l(p,{class:"row items-center q-pb-none"},{default:o(()=>[e[31]||(e[31]=n("div",{class:"text-subtitle1"}," Agregar Gasto ",-1)),l(R),l(b,{flat:"",round:"",dense:"",icon:"close",onClick:e[10]||(e[10]=a=>s.dialogGasto=!1)})]),_:1}),l(p,null,{default:o(()=>[n("div",ot,[l(_,{modelValue:s.venta.name,"onUpdate:modelValue":e[11]||(e[11]=a=>s.venta.name=a),label:"Descripción",outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue"]),l(_,{modelValue:s.venta.total,"onUpdate:modelValue":e[12]||(e[12]=a=>s.venta.total=a),modelModifiers:{number:!0},label:"Monto (Bs)",type:"number",outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue"]),l(b,{label:"Guardar",color:"primary",onClick:i.guardarGasto,loading:s.loading},null,8,["onClick","loading"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(D,{modelValue:s.dialogCaja,"onUpdate:modelValue":e[17]||(e[17]=a=>s.dialogCaja=a),persistent:""},{default:o(()=>[l(h,{style:{width:"400px","max-width":"95vw"}},{default:o(()=>[l(p,{class:"row items-center q-pb-none"},{default:o(()=>[e[32]||(e[32]=n("div",{class:"text-subtitle1"}," Inicio de Caja ",-1)),l(R),l(b,{flat:"",round:"",dense:"",icon:"close",onClick:e[14]||(e[14]=a=>s.dialogCaja=!1)})]),_:1}),l(p,null,{default:o(()=>[n("div",nt,[l(_,{modelValue:s.caja.name,"onUpdate:modelValue":e[15]||(e[15]=a=>s.caja.name=a),label:"Descripción",outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue"]),l(_,{modelValue:s.caja.total,"onUpdate:modelValue":e[16]||(e[16]=a=>s.caja.total=a),modelModifiers:{number:!0},label:"Monto inicial (Bs)",type:"number",outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue"]),l(b,{label:"Guardar",color:"primary",onClick:i.guardarInicioCaja,loading:s.loading},null,8,["onClick","loading"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const yt=_e(Ee,[["render",it],["__scopeId","data-v-47e15b7f"]]);export{yt as default};
